# Socket (소켓)

## 소켓이란?

- 컴퓨터 네트워크를 경유하는 프로세스 간 통신의 종착점
- 프로세스가 "네트워크를 통해" 데이터를 내보내거나 받을 때 사용한다
- 소켓 = Interface
  - 전기 소켓 = 집 안에서 사용하는 Interface
    - 내부 구조, 전기 원리, 전기 종류 등을 몰라도 콘센트 (Interface) 만 꽂으면 사용가능
  - 네트워크 소켓 = S/W Interface
    - 내부 프로토콜의 원리를 몰라도 Socket Interface만 알고 있으면 즉시 통신 가능

# 파일 입출력

## 리눅스의 특징

- 리눅스는 모든 것을 파일로 간주한다
  - 디렉토리, 장치 ...
- 파일을 읽고 쓰는 행위 만으로 모든 것을 할 수 있다
  - 파일을 읽고 쓰는 것은 app 레벨에서 할 수 없다

## 소켓 인터페이스

- 소켓을 이용해서 `같은 네트워크`에 있는 `다른 노드`와 데이터를 주고 받을 수 있다
- 소켓을 이용해서 `같은 노드`에 있는 `다른 프로세스`와 데이터를 주고 받을 수 있다

## 파일 입출력

- 소켓 또한 파일의 일종으로 취급
  - 소켓 조작은 파일 조작과 동일하게 간주된다
  - 파일 입출력 함수를 소켓 입출력 함수 (네트워크 송수신)에 사용할 수 있다
- 프로세스가 `소켓이라는 파일`을 통해 `파일을 열고 읽고 쓰고 닫아` 데이터를 주고 받는다
- read() 사용
  - 파일을 읽는다
  - "수신"한다, 즉 데이터를 받는다
- write() 사용
  - 파일에 쓴다
  - "송신"한다, 즉 데이터를 보낸다
- Application 개발자는 소켓 파일만 건드리면, 바로 소켓 통신이 가능하다

## 소켓과 파일 입출력

- 커널을 제어하는 방법
  - System Call
  - 커널이 관리하는 특수한 파일을 수정
    - Syscall을 간접적으로 사용

> kernel 내부의 소켓 관련 파일을 수정하여 네트워크 통신을 한다

## 파일 입출력

- 파일 디스크립터 (File Descriptor)
  - 소켓은 굉장히 복잡한 `파일`이다
  - 시스템으로부터 할당 받은 파일 또는 소켓에 부여된 정수를 파일 디스크립터라고 한다
  - 복잡한 파일을 단수 ㄴ파일 디스크립터라는 정수로 "치환"하여 작업의 편의성을 높인 것








[광주_6반_김도훈] 